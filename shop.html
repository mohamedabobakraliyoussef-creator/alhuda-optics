<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Al Huda Optics - Shop</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-950 text-white">

<!-- NAVBAR -->
<nav class="flex justify-between items-center p-6 bg-black shadow-lg">
  <h1 class="text-2xl font-bold text-yellow-400">Al Huda Optics</h1>
  <div>
    ğŸ›’ <span id="cart-count" class="bg-red-500 px-2 rounded-full">0</span>
  </div>
</nav>

<!-- FILTERS -->
<section class="p-6 text-center">
  <button onclick="filterProducts('all')" class="filter-btn bg-yellow-500 px-4 py-2 rounded m-2 text-black">Ø§Ù„ÙƒÙ„</button>
  <button onclick="filterProducts('medical')" class="filter-btn bg-gray-800 px-4 py-2 rounded m-2">Ø·Ø¨ÙŠØ©</button>
  <button onclick="filterProducts('sunglasses')" class="filter-btn bg-gray-800 px-4 py-2 rounded m-2">Ø´Ù…Ø³ÙŠØ©</button>
</section>

<!-- PRODUCTS GRID -->
<section id="products-container" class="grid grid-cols-1 md:grid-cols-3 gap-8 p-8"></section>

<!-- CART SUMMARY -->
<section class="bg-black p-6">
  <h2 class="text-xl font-bold mb-4">Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h2>
  <div id="cart-items"></div>
  <h3 class="mt-4 text-yellow-400 font-bold">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="total-price">0</span> Ø¬.Ù…</h3>
  <button onclick="clearCart()" class="mt-4 bg-red-600 px-4 py-2 rounded">ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©</button>
</section>

<script>

// ================= PRODUCTS DATA =================
const PRODUCTS = [
  {
    id: 1,
    name: "Ù†Ø¸Ø§Ø±Ø© Ø·Ø¨ÙŠØ© ÙƒÙ„Ø§Ø³ÙŠÙƒ",
    price: 850,
    category: "medical",
    image: "https://images.unsplash.com/photo-1511499767150-a48a237f0083",
    description: "Ø¥Ø·Ø§Ø± Ø£Ø³ÙˆØ¯ ÙØ§Ø®Ø± - Ø®ÙÙŠÙ Ø§Ù„ÙˆØ²Ù†"
  },
  {
    id: 2,
    name: "Ù†Ø¸Ø§Ø±Ø© Ø´Ù…Ø³ÙŠØ© ÙØ§Ø®Ø±Ø©",
    price: 1500,
    category: "sunglasses",
    image: "https://images.unsplash.com/photo-1577803645773-f96470509666",
    description: "Ø¹Ø¯Ø³Ø§Øª UV400 - Ù…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ø®Ø¯Ø´"
  },
  {
    id: 3,
    name: "Ø¥Ø·Ø§Ø± Ø·Ø¨ÙŠ ØªÙŠØªØ§Ù†ÙŠÙˆÙ…",
    price: 1200,
    category: "medical",
    image: "https://images.unsplash.com/photo-1583394838336-acd977736f90",
    description: "Ø¥Ø·Ø§Ø± Ø®ÙÙŠÙ Ø¬Ø¯Ø§Ù‹ ÙˆÙ…ØªÙŠÙ†"
  }
];

// ================= CART SYSTEM =================
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function saveCart() {
  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartUI();
}

function addToCart(id) {
  const product = PRODUCTS.find(p => p.id === id);
  const existing = cart.find(item => item.id === id);

  if (existing) {
    existing.qty++;
  } else {
    cart.push({...product, qty: 1});
  }

  saveCart();
}

function clearCart() {
  cart = [];
  saveCart();
}

function updateCartUI() {
  document.getElementById("cart-count").innerText =
    cart.reduce((sum, item) => sum + item.qty, 0);

  const cartContainer = document.getElementById("cart-items");
  const totalEl = document.getElementById("total-price");

  cartContainer.innerHTML = "";
  let total = 0;

  cart.forEach(item => {
    total += item.price * item.qty;
    cartContainer.innerHTML += `
      <div class="flex justify-between border-b border-gray-700 py-2">
        <span>${item.name} Ã— ${item.qty}</span>
        <span>${item.price * item.qty} Ø¬.Ù…</span>
      </div>
    `;
  });

  totalEl.innerText = total;
}

// ================= RENDER PRODUCTS =================
function renderProducts(products) {
  const container = document.getElementById("products-container");
  container.innerHTML = "";

  products.forEach(product => {
    container.innerHTML += `
      <div class="bg-gray-900 rounded-xl p-4 shadow-lg hover:scale-105 transition">
        <img src="${product.image}" class="rounded-lg mb-4 h-56 w-full object-cover">
        <h3 class="text-lg font-bold">${product.name}</h3>
        <p class="text-gray-400 mb-2">${product.description}</p>
        <div class="flex justify-between items-center">
          <span class="text-yellow-400 font-bold">${product.price} Ø¬.Ù…</span>
          <button onclick="addToCart(${product.id})"
            class="bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-400 transition">
            Ø£Ø¶Ù
          </button>
        </div>
      </div>
    `;
  });
}

// ================= FILTER =================
function filterProducts(category) {
  if (category === "all") {
    renderProducts(PRODUCTS);
  } else {
    const filtered = PRODUCTS.filter(p => p.category === category);
    renderProducts(filtered);
  }
}

// INIT
renderProducts(PRODUCTS);
updateCartUI();

</script>

</body>
</html>
